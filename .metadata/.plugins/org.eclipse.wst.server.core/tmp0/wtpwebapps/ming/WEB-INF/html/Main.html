<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="resources/bootstrap-3.3.7/css/bootstrap.min.css">
<link rel="stylesheet" href="resources/bootstrap-3.3.7/css/bootstrap-theme.min.css">
<script src="resources/bootstrap-3.3.7/js/jquery-3.3.1.min.js"></script>
<script src="resources/bootstrap-3.3.7/js/bootstrap.min.js"></script>
<script src="resources/js/vue.min.js"></script>
<script src="resources/js/axios.min.js"></script>

<title>衛星倉分貨系統</title>
</head>
<body>
	<nav class="navbar navbar-default">
		<div class="container-fluid" id="main">
			<div class="navbar-header">
				<a class="navbar-brand" href="/ming/main">衛星倉分貨系統</a>
			</div>
			<ul class="nav navbar-nav">
				<template v-for="func in functions">
				<li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">{{func.func_name}}<span
						class="caret"></span></a>
					<ul class="dropdown-menu">
						<template v-for="item in func.func_data">
<!-- 							<li><a :href="'/ming/' + item.url">{{ item.name }}</a></li> -->
<!-- 							<li><router-link to="/foo">Go to {{ item.name }}</router-link></li> -->
						</template>
					</ul></li>
				</template>
			</ul>
			<div class="collapse navbar-collapse" id="myNavbar">
				<ul class="nav navbar-nav navbar-right">
					<li><a href="/ming/logout">登出</a></li>
				</ul>
			</div>
		</div>
	</nav>
	<router-view></router-view>

	<script>
		var main = new Vue({
			el : '#main',
			data : {
				functions : {}
			},
			created : function() {
				axios.get('/ming/functions').then(function(response) {
					main.functions = response.data;
				})
			}
		});
	</script>
</body>
</html>